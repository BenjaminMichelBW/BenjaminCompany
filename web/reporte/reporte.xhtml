<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Reporte</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
    </h:head>
    <h:body>
        <h:form id="form">
            <h2>Reportes</h2>
            <p:growl id="msgs" showDetail="true"/>

            <p:tabView id="tvReporte" >
                <p:tab title="Cliente" id="tabForm" >
                    <div class="ui-g" >
                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                            <p:outputLabel for="usuarioRep" value="Usuario "/>
                            <p:selectOneMenu id="usuarioRep" value="#{reporteBean.usuario.idUsuario}" style="width: 230px">
                                <f:selectItem itemLabel="Todos" itemValue="0"/>
                                <f:selectItems value="#{reporteBean.listaUsuarios}" 
                                               var="usuarios" 
                                               itemLabel="#{usuarios.nombreUsuario}" 
                                               itemValue="#{usuarios.idUsuario}"/>
                            </p:selectOneMenu>
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                            <p:commandButton value="Buscar" style="font-size:19px; margin-right:20px;" 
                                             action="#{reporteBean.buscarClientes()}" update="dtClienteRep, :form:msgs" 
                                             icon="pi pi-search" />
                        </div>
                    </div>

                    <p:dataTable id="dtClienteRep" var="clienteRep" value="#{reporteBean.listaRepCliente}" emptyMessage="No se encontraron registros."
                                 paginator="true" rows="8" sortMode="single" widgetVar="clienteTabla" reflow="true"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros">

                        <p:column headerText="NÃºmero cliente" sortBy="#{clienteRep.numeroCliente}" filterBy="#{clienteRep.numeroCliente}">
                            <h:outputText value="#{clienteRep.numeroCliente}" />
                        </p:column>

                        <p:column headerText="Nombre cliente" sortBy="#{clienteRep.nomCliente}" filterBy="#{clienteRep.nomCliente}">
                            <h:outputText value="#{clienteRep.nomCliente}" />
                        </p:column>

                        <p:column headerText="Nombre distribuidor" sortBy="#{clienteRep.nomDistribuidor}" filterBy="#{clienteRep.nomDistribuidor}">
                            <h:outputText value="#{clienteRep.nomDistribuidor}" />
                        </p:column>

                        <p:column headerText="Nombre ciudad" sortBy="#{clienteRep.nomCiudad}" filterBy="#{clienteRep.nomCiudad}">
                            <h:outputText value="#{clienteRep.nomCiudad}" />
                        </p:column>

                        <p:column headerText="Telefono contacto" sortBy="#{clienteRep.telContacto}" filterBy="#{clienteRep.telContacto}">
                            <h:outputText value="#{clienteRep.telContacto}" />
                        </p:column>

                        <p:column headerText="Nombre usuario" sortBy="#{clienteRep.nomUsuario}" filterBy="#{clienteRep.nomUsuario}">
                            <h:outputText value="#{clienteRep.nomUsuario}" />
                        </p:column>
                    </p:dataTable>
                </p:tab>
            </p:tabView>

        </h:form>
    </h:body>
</html>
